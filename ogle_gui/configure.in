dnl Process this file with autoconf to produce a configure script.

AC_INIT(configure.in)
AM_INIT_AUTOMAKE(ogle_gui, 0.1)
AM_CONFIG_HEADER(config.h)


dnl Pick up the Gnome macros.
AM_ACLOCAL_INCLUDE(macros)

GNOME_INIT
AC_ISC_POSIX
AC_PROG_CC
AM_PROG_CC_STDC
AC_HEADER_STDC

AM_PROG_LIBTOOL

GNOME_COMPILE_WARNINGS
GNOME_X_CHECKS

dnl Add the languages which your application supports here.
ALL_LINGUAS=""
AM_GNU_GETTEXT

dnl Set PACKAGE_LOCALE_DIR in config.h.
if test "x${prefix}" = "xNONE"; then
  AC_DEFINE_UNQUOTED(PACKAGE_LOCALE_DIR, "${ac_default_prefix}/${DATADIRNAME}/locale")
else
  AC_DEFINE_UNQUOTED(PACKAGE_LOCALE_DIR, "${prefix}/${DATADIRNAME}/locale")
fi

dnl Subst PACKAGE_PIXMAPS_DIR.
PACKAGE_PIXMAPS_DIR="`gnome-config --datadir`/pixmaps/${PACKAGE}"
AC_SUBST(PACKAGE_PIXMAPS_DIR)



dvd_path=""
AC_ARG_WITH(dvdcontrol, 
  [  --with-dvdcontol=DIR    Specify prefix to the dvdcontrol lib ], 
  if test x$withval = xno; then
    AC_MSG_ERROR([You must have/use libdvdcontrol])
  fi
  if test x$withval != xyes; then
    dvd_path=$withval
  fi)
if test -z "$dvd_path"; then
  dnl We have nothing better to go on, guess that it's installed in /usr/local
  dvd_path=/usr/local
fi

AC_CHECK_LIB(dvdcontrol, DVDOpenNav, 
  [ DVDLIBS="-L$dvd_path/lib/ogle -rpath $dvd_path/lib/ogle -ldvdcontrol" 
    DVD_INCLUDEDIR=-I$dvd_path/include
  ],, 
  -L$dvd_path/lib/ogle)
if test -z "$DVDLIBS"; then
  AC_MSG_ERROR([Needs libdvdcontrol, install it and/or specify the location])
fi

AC_ARG_WITH(dvd-includes, 
  [  --with-dvd-includes=DIR Specify location of DVD headers ], 
  DVD_INCLUDEDIR=-I$with_dvd_includes)

AC_SUBST(DVDLIBS)
AC_SUBST(DVD_INCLUDEDIR)



AC_OUTPUT([
Makefile
macros/Makefile
src/Makefile
intl/Makefile
po/Makefile.in
doc/Makefile
doc/C/Makefile
])


